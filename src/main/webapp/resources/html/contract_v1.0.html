<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body{
            font-size: 62.5%;
        }

        p{
            color: black;
            margin: auto;
            font-size:1.4em;
        }

        table{
            font-size: 1.4em;
        }

        h2{
            color:#06c1ae;
        }

        .custom-btn {
            position: relative;
            top: 0;
            display: block;
            width: 100%;
            margin: .5em 0;
            padding: .7em 1em;
            text-decoration: none;
            background-color: #3ca0e6;
            text-align: center;
            border-radius: 3px;
            color: white;
            font-weight: bold;
            font-size: 1.6em;
        }
    </style>
</head>
<body>
<div id="protocol-2">
    <h1 style="color: black; font-size:1.6em">么么贷个人借款协议</h1>
    <span style="font-size: 1.4em; color: black;">协议编号:</span><br>
    <span style="font-size: 1.4em; color: black;">借款人: <span class="borrower"></span></span><br>
    <span style="font-size: 1.4em; color: black;">出借人: <span class="lender"></span></span><br>
    <span style="font-size: 1.4em; color: black;">居间服务人：上海米么金融信息服务有限公司</span><br>
    <span class="date-contract" style="font-size: 1.4em; color: black;"></span><br>
    <h2>鉴于:</h2>
    <p>1.居间服务人是一家在中国上海市合法成立并有效存续的有限责任公司，拥有微信服务号”么么贷”(微信号：memeloan)（本协议中凡提及该服务号，所指的权利义务主体均系居间服务人）的经营权，向服务号注册用户提供信用咨询及金融信息服务。<br>
        2.借款人和出借人均已在服务号注册，本协议使用其已充分阅读并认可的服务号借款协议样本。<br>
        3.借款人和出借人均已承诺其提供的信息真实、完整、有效。<br>
        4.借款人具有合法的借款需求，出借人自愿以其自有的合法资金向借款人提供借款。出借人以本协议为依据与借款人形成真实、合法、有效的债权。<br>
        借款人和出借人基于平等自愿原则，经居间服务人的居间介绍，就有关借款事项达成如下协议，以兹共守：</p>
    <h2>第一条 借款基本信息</h2>
    <p>借款开始日：出借人指定账户划付本协议项下借款之日<br>
        借款到期日：借款开始后的第[<span class="term-contract"></span>]个自然月的借款开始日当日，节假日不顺延(如当月不存在该借款开始日的，则应为当月的最后一日)<br>
        还款方式：等额本息<br>
        还款日：自第二个月起每个自然月的借款开始日当日，节假日不顺延(如当月不存在该借款开始日的，则应为当月的最后一日)<br>
        借款人： <span class="borrower"></span><br>
        出借人： <span class="lender"></span><br>
        借款金额：<span class="amount-contract"></span><br>
        借款期限（月）：<span class="term-contract"></span><br>
        借款开始日：<span class="date-contract"></span><br>
        借款到期日：<span class="dueDate-contract"></span><br>
        月截止还款日：<span class="dueDay-contract"></span><br>
        年利率：<span class="apr"></span><br>
    </p>
    <h2>第二条 借款的支付</h2>
    <p>2.1出借人在同意向借款人出借相应款项时，已委托么么贷在本协议生效时将本协议项下的借款直接划付至借款人账户。<br>
        2.2借款人已委托么么贷将还款直接划付至出借人账户。<br>
        2.3借款人和出借人均同意委托么么贷撮合本次借款并承担上述么么贷接受委托行为所产生的法律后果。
    </p>
    <h2>第三条 借款的偿还</h2>
    <p>3.1借款人将主动根据本协议规定之还款日及还款数额按月还款至么么贷指定账户并委托么么贷划付至出借人账户。<br>
        3.2借款人的最后一期还款必须包含全部剩余本金、利息及所有根据本协议产生的其他费用等。<br>
        3.3如借款人还款不足以偿还约定的本金、利息及违约金的，根据本协议第六条规定扣除账户管理费用后，出借人同意按照其借出款项比例收取还款及利息。<br>
        3.4借款人的每期还款均应按照如下顺序清偿：<br>
        （1）根据本协议产生的除本款（2）-（6）项之外的其他全部费用；<br>
        （2）罚息；<br>
        （3）拖欠的利息；<br>
        （4）拖欠的本金；<br>
        （5）正常的利息；<br>
        （6）正常的本金。
    </p>
    <h2>第四条 通知</h2>
    <p>4.1任何一方因履行本协议做出的通知和/或文件均应为书面形式，并通过短信、电子邮件及微信消息等方式传送。<br>
        4.2以短信、电子邮件及微信消息方式发出的通知，以成功发送为有效送达。<br>
        4.3各方在本协议中填写的联系信息即为其有效的通讯方式。各方联系信息如下：<br>
    </p>
    <div style="width: 50%; float: left; font-size: 1.4em">出借人： <span class="lender"></span></div>
    <div style="width: 50%; float: left; font-size: 1.4em">借款人： <span class="borrower"></span></div>
    <div style="width: 50%; float: left; font-size: 1.4em">邮箱地址： </div>
    <div style="width: 50%; float: left; font-size: 1.4em">邮箱地址： </div>
    <table>
        <tr>
            <td><span class="lenderEmail"></span></td>
            <td><span class="borrowerEmail"></span></td>
        </tr>
    </table>
    <table>
        <tr>
            <td>移动电话： </td>
            <td><span class="lenderMobile"></span></td>
            <td>移动电话： </td>
            <td><span class="borrowerMobile"></span></td>
        </tr>
    </table>
    <h2>第五条 逾期及违约</h2>
    <p>5.1借款人应严格履行还款义务，借款人未于借款协议规定的还款日足额还款、但于还款日次日起算的3天内足额还款的，无需支付逾期罚息。若借款人在还款日次日起算的3天内未足额还款的，则应向出借人支付按照下列公式计算出的逾期罚息。逾期罚息与借款利息不同时计算，即借款人还清全部本金、利息、罚息之前，逾期本金的正常利息停止计算。<br>
        罚息总额 = 逾期本金总额×对应罚息利率×逾期天数；<br>
        逾期天数：自还款日之次日起算<br>
        罚息利率：千分之一<br>
        5.2若借款人逾期支付任何一期还款超过90天或借款人在逾期后出现逃避、拒绝沟通或拒绝承认欠款事实等恶意行为，本协议项下的全部借款本息自动提前到期，借款人应立即清偿本协议项下尚未偿付的全部本金、利息、罚息及根据本协议产生的其他全部费用。同时么么贷有权将借款人的逾期记录计入么么贷黑名单或相关合作方的信用记录以及国家和地方的公民征信系统。一切相关法律责任及后果概由借款人自负，与出借人及么么贷无涉。<br>
        5.3若借款人出现上述恶意行为，经居间服务人确认，本协议下的全部借款本息视同提前到期，借款人应立即清偿本协议下尚未偿付的全部本金、利息、罚息及根据本协议产生的其他全部费用。此外，出借人与居间服务人均可将借款人违约失信的相关信息及借款人其他信息向微博等媒体、用人单位、公安机关、检查机关、法律机关等披露，并有权将与其相关的所有个人资料和信息与其他第三方进行数据共享，以便出借人、居间服务人和第三方催收逾期借款及对用户的其他申请进行审核之用，由此造成的损失，出借人与居间服务人不承担任何责任。<br>
        5.4为集中维护各出借人权利，如借款人出现上述恶意行为的，出借人同意将本协议项下债权无偿转让给居间服务人，由居间服务人统一向借款人追索。<br>
        5.5本协议各方均应严格履行协议义务，任何一方违约，违约方应承担因违约使其他各方产生的费用和损失，包括但不限于调查费、诉讼费、律师费等。<br>
        5.6出借人同意，经追索实现的债权款项应当全额支付至居间服务人指定的账户。
    </p>
    <h2>第六条 承诺条款</h2>
    <p>6.1借款人承诺借款用途为：[ 信用卡还款   ] 。<br>
        6.2借款人承诺向出借人提交的一切文本、图文、个人信息等资料等均真实、有效。<br>
        6.3借款人和出借人承诺任何发自于其注册时提供的邮箱、手机的电子邮件、微信消息与短信均为其真实意思表示。
    </p>
    <h2>第七条 适用法律及争议解决</h2>
    <p>7.1本协议的履行地为居间服务人实际营业地上海市浦东新区。<br>
        7.2本协议的签订、履行、终止、解释均适用中华人民共和国法律，并由协议履行地浦东新区人民法院管辖。
    </p>
    <h2>第八条 其他</h2>
    <p>8.1本协议采用电子文本形式制成，并在居间服务人么么贷上保留存档，各方均认可该形式协议的法律效力。<br>
        8.2借款人及出借人同意居间服务人根据具体情况对本借款协议进行更新。<br>
        8.3如果本协议中的任何一条或多条违反适用的法律法规，则该条将被视为无效，但该无效条款并不影响其他有效条款的效力。<br>
        8.4本协议自文本最终生成之日起生效。<br>
        本协议最后更新版本：2014年7月
    </p>
</div>
<img src="../img/other_icons/7-3-2.png" id="close-protocol-2" style="position: fixed; width: 40px; height: 40px; right: 0px; top: 0px">
<div style="width:80%; margin: 10% 5% 0 5%" id="return-protocol-2"><a type="button" class="custom-btn">返回</a></div>
<script>
    (function(){
        function getContract() {
            var contract = {};
            contract.id = /memberId=(\d+)/.exec(window.location)[1];
            contract.amount = /amount=(\d+)/.exec(window.location)[1];
            contract.term = /term=(\d+)/.exec(window.location)[1];
            return contract;
        }

        function goBackward() {
            //window.history.back();
            window.location = contract.existingFlag === 2 ? "http://192.168.0.131:8080/repaymentApp/index.html#loan?memberId=" + contract.id + "&amount=" + contract.amount + "&term=" + contract.term + "&t=" + (new Date()) : "http://192.168.0.131:8080/repaymentApp/index.html#congratulation?memberId=" + contract.id + "&amount=" + contract.amount + "&term=" + contract.term + "&t=" + (new Date());
        }

        function showBoxShadow() {
            document.getElementById("return-protocol-2").style.boxShadow = "0 0 5px black";
        }

        function hideBoxShadow() {
            document.getElementById("return-protocol-2").style.boxShadow = "none";
        }

        function getReadableDate(ms) {
            var date = new Date(ms),
                    month = date.getMonth()+ 1,
                    day = date.getDate(),
                    year = date.getFullYear();
            return [year, month, day];
        }

        function setHTMLByClass(className, innerHTML) {
            var elements = document.getElementsByClassName(className);
            for(var i = 0; i < elements.length; i++) {
                elements[i].innerHTML = innerHTML;
            }
        }

        var contract = getContract(),
                aims = document.querySelectorAll("#close-protocol-2, #return-protocol-2"),
                returnBtn = document.getElementById("return-protocol-2"),
                xhrZero = new XMLHttpRequest(),
                xhrOne = new XMLHttpRequest(),
                xhrTwo = new XMLHttpRequest();

        setHTMLByClass("term-contract", contract.term);
        setHTMLByClass("amount-contract", contract.amount);

        xhrZero.onreadystatechange = function() {
            if(xhrZero.readyState == 4 && xhrZero.status == 200) {
                contract.borrowerName = JSON.parse(xhrZero.responseText).name;
                setHTMLByClass("borrower", contract.borrowerName);
            }
        };
        xhrZero.open("GET", "../../api/" + "members/" + contract.id + "/idCard");
        xhrZero.send(null);

        xhrOne.onreadystatechange = function() {
            if(xhrOne.readyState == 4 && xhrOne.status == 200) {
                var json = JSON.parse(xhrOne.responseText);
                var apr = json.apr,
                        lender = json.lender,
                        lenderMobile = json.lenderMobile,
                        lenderEmail = json.lenderEmail,
                        date = getReadableDate(new Date());
                setHTMLByClass("lender", lender);
                setHTMLByClass("date-contract", date[0] + "年" + date[1] + "月" + date[2] + "日");
                setHTMLByClass("borrowerMobile", "");
                setHTMLByClass("lenderMobile", lenderMobile);
                setHTMLByClass("lenderEmail", lenderEmail);
                setHTMLByClass("apr", apr);
                var dueYear, dueMonth, dueDay;
                if(date[1] + Number(contract.term) > 12) {
                    dueYear = date[0] + 1;
                    dueMonth = date[1] + Number(contract.term) - 12;
                } else {
                    dueYear = date[0];
                    dueMonth = date[1] + Number(contract.term);
                }
                if(dueMonth === 2 && date[2] > 28) {
                    dueDay = 28;
                } else if(dueMonth in [1, 3, 5, 7, 8, 10, 12] && dueDay === 31) {
                    dueDay = 30;
                } else {
                    dueDay = date[2];
                }
                setHTMLByClass("dueDate-contract", dueYear + "年" + dueMonth + "月" + dueDay + "日");
                setHTMLByClass("dueDay-contract", "每月" + dueDay + "日");
            }
        };
        xhrOne.open("GET", "../../api/" + "members/" + contract.id + "/term/" + contract.term + "/contract");
        xhrOne.send(null);

        xhrTwo.onreadystatechange = function() {
            if(xhrTwo.readyState == 4 && xhrTwo.status == 200) {
                var json = JSON.parse(xhrTwo.responseText);
                setHTMLByClass("borrowerEmail", json.email);
                contract.existingFlag = json.existingFlag;
            }
        };
        xhrTwo.open("GET", "../../api/" + "members/" + contract.id);
        xhrTwo.send(null);

        returnBtn.addEventListener("mousedown", showBoxShadow);
        returnBtn.addEventListener("mouseup", hideBoxShadow);
        for(var i = 0; i < aims.length; i++) {
            aims[i].addEventListener("click", goBackward);
        }
    })();
</script>
</body>
</html>